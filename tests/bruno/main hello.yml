info:
  name: Main hello
  type: http
  seq: 1

http:
  method: GET
  url: "{{base_url}}/greeting"
  body:
    type: json
    data: |-
      {
        "text": "Hello World"
      }
  auth: inherit

runtime:
  scripts:
    - type: after-response
      code: |-
        test("Статус ответа должен быть 200", function() {
          expect(res.status).to.equal(200);
        });

        test("Поле 'text' существует и не является пустым", function() {
          const data = res.body;
          
          // Проверяем, что поле существует (не undefined)
          expect(data).to.have.property("text");
          
          // Проверяем, что это строка
          expect(data.text).to.be.a('string');
          
          // Проверяем, что длина строки больше 0
          expect(data.text.length).to.be.greaterThan(0);
        });

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5
