info:
  name: GET user by query id
  type: http
  seq: 3

http:
  method: GET
  url: "{{base_url}}/greeting?id={{user_id}}"
  params:
    - name: id
      value: "{{user_id}}"
      type: query
  auth: inherit

runtime:
  scripts:
    - type: after-response
      code: |-
        test("Статус должен быть 200", function() {
          expect(res.status).to.equal(200);
        });

        test("Возвращены данные пользователя", function() {
          const data = res.body;
          expect(data).to.have.property("name");
          expect(data).to.have.property("surname");
          expect(data.name).to.equal("Ksenia");
          expect(data.surname).to.equal("Surname-i-dont-like");
        });

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5
